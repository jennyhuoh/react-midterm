{"ast":null,"code":"import { SET_PAGE_CONTENT, SET_BURGER_DETAIL, SET_PAGE_TOTAL, BEGIN_LOGIN_REQUEST, SUCCESS_LOGIN_REQUEST, FAIL_LOGIN_REQUEST, LOGOUT_REQUEST, BEGIN_REGISTER_REQUEST, SUCCESS_REGISTER_REQUEST, FAIL_REGISTER_REQUEST } from '../utils/constants';\nimport { signInWithEmailPassword, registerWithEmailPassword // signOut\n} from \"../api\"; //import burgerBuns from '../json/burgerBuns.json';\n\nimport materials from '../json/materials.json';\nimport burgerBuns from '../json/burgerBuns.json';\nexport const setPageContent = (dispatch, burgerBuns) => {\n  dispatch({\n    type: SET_PAGE_CONTENT,\n    payload: burgerBuns\n  });\n};\nexport const setBurgerDetail = (dispatch, qty) => {\n  // const burgerBun = burgerBuns.find (\n  //     x => x.id === burgerBunId\n  // );\n  if (qty === 0 && burgerBuns.countInStock > 0) {\n    qty = 1;\n  }\n\n  dispatch({\n    type: SET_BURGER_DETAIL,\n    payload: qty\n  });\n};\nexport const setPageTotal = (dispatch, total) => {\n  total = 0;\n  dispatch({\n    type: SET_PAGE_TOTAL,\n    payload: total\n  });\n};\nexport const loginToFirebase = async (dispatch, userInfo) => {\n  dispatch({\n    type: BEGIN_LOGIN_REQUEST\n  });\n\n  try {\n    const user = await signInWithEmailPassword(userInfo.email, userInfo.password);\n    dispatch({\n      type: SUCCESS_LOGIN_REQUEST,\n      payload: user.user.providerData[0]\n    });\n    return user;\n  } catch (e) {\n    dispatch({\n      type: FAIL_LOGIN_REQUEST,\n      payload: e.message\n    });\n    console.log(e);\n    return null;\n  }\n};\nexport const registerToFirebase = async (dispatch, userInfo) => {\n  dispatch({\n    type: BEGIN_REGISTER_REQUEST\n  });\n\n  try {\n    const user = await registerWithEmailPassword(userInfo.email, userInfo.password, userInfo.name);\n    console.log(user);\n    dispatch({\n      type: SUCCESS_REGISTER_REQUEST,\n      payload: user.providerData[0]\n    });\n    return user;\n  } catch (e) {\n    dispatch({\n      type: FAIL_REGISTER_REQUEST,\n      payload: e.message\n    });\n    console.log(e);\n    return null;\n  }\n};\nexport const logoutFromFirebase = async dispatch => {\n  signOut();\n  dispatch({\n    type: LOGOUT_REQUEST\n  });\n};","map":{"version":3,"sources":["/Users/jennyhuoh/Desktop/react-midterm/src/actions/index.js"],"names":["SET_PAGE_CONTENT","SET_BURGER_DETAIL","SET_PAGE_TOTAL","BEGIN_LOGIN_REQUEST","SUCCESS_LOGIN_REQUEST","FAIL_LOGIN_REQUEST","LOGOUT_REQUEST","BEGIN_REGISTER_REQUEST","SUCCESS_REGISTER_REQUEST","FAIL_REGISTER_REQUEST","signInWithEmailPassword","registerWithEmailPassword","materials","burgerBuns","setPageContent","dispatch","type","payload","setBurgerDetail","qty","countInStock","setPageTotal","total","loginToFirebase","userInfo","user","email","password","providerData","e","message","console","log","registerToFirebase","name","logoutFromFirebase","signOut"],"mappings":"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","sourcesContent":["import {\n    SET_PAGE_CONTENT,\n    SET_BURGER_DETAIL,\n    SET_PAGE_TOTAL,\n    BEGIN_LOGIN_REQUEST,\n    SUCCESS_LOGIN_REQUEST,\n    FAIL_LOGIN_REQUEST,\n    LOGOUT_REQUEST,\n    BEGIN_REGISTER_REQUEST,\n    SUCCESS_REGISTER_REQUEST,\n    FAIL_REGISTER_REQUEST\n} from '../utils/constants';\nimport {\n    signInWithEmailPassword,\n    registerWithEmailPassword,\n    // signOut\n  } from \"../api\";\n//import burgerBuns from '../json/burgerBuns.json';\nimport materials from '../json/materials.json';\nimport burgerBuns from '../json/burgerBuns.json';\n\nexport const setPageContent = (dispatch, burgerBuns) => {\n    dispatch({\n        type: SET_PAGE_CONTENT,\n        payload: burgerBuns,\n    });\n}\nexport const setBurgerDetail = (dispatch, qty) => {\n    // const burgerBun = burgerBuns.find (\n    //     x => x.id === burgerBunId\n    // );\n    if(qty === 0 && burgerBuns.countInStock > 0){\n        qty = 1;\n    }\n    dispatch({\n        type: SET_BURGER_DETAIL,\n        payload: qty\n    })\n}\nexport const setPageTotal = (dispatch, total) => {\n    total = 0\n    dispatch({\n        type: SET_PAGE_TOTAL,\n        payload: total\n    })\n}\nexport const loginToFirebase = async (dispatch, userInfo) => {\n    dispatch({ type: BEGIN_LOGIN_REQUEST });\n    try {\n      const user = await signInWithEmailPassword(userInfo.email, userInfo.password);\n      dispatch({\n        type: SUCCESS_LOGIN_REQUEST,\n        payload: user.user.providerData[0],\n      })\n      return user;\n    } catch (e) {\n      dispatch({\n        type: FAIL_LOGIN_REQUEST,\n        payload: e.message\n      })\n      console.log(e)\n      return null;\n    }\n  }\n  \n  \n  export const registerToFirebase = async (dispatch, userInfo) => {\n    dispatch({ type: BEGIN_REGISTER_REQUEST });\n    try {\n      const user = await registerWithEmailPassword(userInfo.email, userInfo.password, userInfo.name);\n      console.log(user)\n      dispatch({\n        type: SUCCESS_REGISTER_REQUEST,\n        payload: user.providerData[0],\n      })\n      return user;\n    } catch (e) {\n      dispatch({\n        type: FAIL_REGISTER_REQUEST,\n        payload: e.message\n      })\n      console.log(e)\n      return null;\n    }\n  }\n\n  export const logoutFromFirebase = async (dispatch) => {\n    signOut();\n    dispatch({ type: LOGOUT_REQUEST });\n  }"]},"metadata":{},"sourceType":"module"}